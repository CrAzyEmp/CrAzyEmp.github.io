document.addEventListener('contextmenu',event=>event.preventDefault());window.onload=function(){window.document.body.onkeydown=()=>{if(event.ctrlKey){event.stopPropagation();event.preventDefault();try{event.keyCode=0;}catch(event){}return false;}return true;}}
history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1);}
class Animate_Navigation{
	constructor(){
		this.cache = window.sessionStorage;
		this.nav_stat();
		this.nav_slider_stat();
		$(window).scroll(()=>{this.on_scroll();});
		let self=this;
		$('nav a,h1 a').on('click',function(event){
			self.on_navigate(this.hash);
		});
	}
	on_scroll(){
		const displayHeight = Number(window.innerHeight);
		if($(window).scrollTop() >= displayHeight-30){
			$('nav').addClass('stickToTop');
			this.cache.setItem('navStat',1);
		}else{
			$('nav').removeClass('stickToTop');
			this.cache.setItem('navStat',0);
		}
		let elem = [];
		$('main section').each(function(){
			if($(this).attr('id')&&$('#'+($(this).attr('id'))).offset().top <= (Number($(window).scrollTop())+7)){
				elem.push('#'+$(this).attr('id'));
			}
		});
		this.cache.setItem('currentElem',elem[(elem.length-1)]);
		this.nav_slider_stat();
	}
	on_navigate(elem){
		if($('a[href="'+elem+'"]').hash !== ""){
			event.preventDefault();
			this.cache.setItem('currentElem',elem);
			$('html, body').animate({
				scrollTop:$(elem).offset().top
			},777,()=>{
				window.location.hash = elem;
			});
			let width = $('a[href="'+elem+'"]').css('width').split("px"),left = 0;
			if(elem == "#Landing_Page"){
				$('#navIndecator').css('width',0);
			}else{
				$('#navIndecator').css('width',width[0]);
				$('#navIndecator').css('left',$('a[href="'+elem+'"]').offset().left);
			}
		}
	}
	nav_stat(){
		if(this.cache.getItem('navStat') == 1){
			$('nav').addClass('stickToTop');
		}else{
			$('nav').removeClass('stickToTop');
		}
	}
	nav_slider_stat(){
		if(this.cache.getItem('currentElem')){
			let currentElem = this.cache.getItem('currentElem');
			document.title = currentElem.substring(1,currentElem.length);
			if(currentElem == "#Landing_Page"){
				$('#navIndecator').css('width',0);
			}else{
				$('#navIndecator').css('width',$('a[href="'+currentElem+'"]').width());
				$('#navIndecator').css('left',$('a[href="'+currentElem+'"]').offset().left);
			}
		}
	}
}
class typeWritter{
	constructor(elem,words,wait){
		this.elem = elem;this.words = words;
		this.txt = '';this.wordIndex = 0;
		this.wait = parseInt(wait,10);
		this.type();this.isDeleting = false;
	}
	type(){
		const current = this.wordIndex % this.words.length;
		const fullTxt = this.words[current];
		if(this.isDeleting){
			this.txt = fullTxt.substring(0,this.txt.length-1);
		}else{
			this.txt = fullTxt.substring(0,this.txt.length+1);
		}
		this.elem[0].innerHTML = this.txt;
		let speed = 200;
		if(this.isDeleting){
			speed /= 2;
		}
		if(!this.isDeleting && this.txt === fullTxt){
			speed = this.wait;this.isDeleting = true;
		}else if(this.isDeleting && this.txt === ""){
			this.isDeleting = false;this.wordIndex++;speed=300;
		}
		setTimeout(()=>this.type(),speed);
	}
}